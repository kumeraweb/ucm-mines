---
import { SEO } from '../data/seo'

const phoneHref = `tel:${SEO.identity.contact.phone}`
const waHref = `https://wa.me/${SEO.identity.contact.whatsapp}?text=${encodeURIComponent(
  'Hola, quisiera recibir asesoría sobre planes de asistencia privada'
)}`
---

<nav class="w-full border-b border-gray-200 bg-white">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
    <!-- LOGO -->
    <a href="/" class="flex items-center">
      <span class="text-xl font-semibold text-gray-800">Planes rescate Movil</span>
    </a>

    <!-- DESKTOP MENU -->
    <div class="hidden md:flex items-center space-x-6">
      <a href="#inicio" class="text-gray-700 hover:text-gray-900">Inicio</a>
      <a href="#planes" class="text-gray-700 hover:text-gray-900">Planes</a>
      <a href="#servicios" class="text-gray-700 hover:text-gray-900">Servicios</a>
      <a href="#contacto" class="text-gray-700 hover:text-gray-900">Contacto</a>

      <a
        href={waHref}
        class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition"
      >
        WhatsApp
      </a>

      <a
        href={phoneHref}
        class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition"
      >
        Llamar
      </a>
    </div>

    <!-- HAMBURGER BUTTON -->
    <button
      id="mobile-toggle"
      aria-label="Abrir menú"
      class="md:hidden flex flex-col justify-center space-y-1.5"
    >
      <span class="w-6 h-0.5 bg-gray-800"></span>
      <span class="w-6 h-0.5 bg-gray-800"></span>
      <span class="w-6 h-0.5 bg-gray-800"></span>
    </button>
  </div>

  <!-- MOBILE MENU -->
  <div
    id="mobile-menu"
    class="md:hidden hidden flex flex-col px-4 py-6 bg-white border-t border-gray-200 gap-4"
  >
    <a href="#inicio" class="text-gray-700 hover:text-gray-900">Inicio</a>
    <a href="#planes" class="text-gray-700 hover:text-gray-900">Planes</a>
    <a href="#servicios" class="text-gray-700 hover:text-gray-900">Servicios</a>
    <a href="#contacto" class="text-gray-700 hover:text-gray-900">Contacto</a>

    <a
      href={waHref}
      class="block text-center px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition"
    >
      WhatsApp
    </a>

    <a
      href={phoneHref}
      class="block text-center px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition"
    >
      Llamar
    </a>
  </div>
</nav>

<script is:inline>
  const btn = document.getElementById('mobile-toggle')
  const menu = document.getElementById('mobile-menu')

  btn?.addEventListener('click', () => {
    menu.classList.toggle('hidden')
  })

  menu?.querySelectorAll('a').forEach((link) => {
    link.addEventListener('click', () => {
      menu.classList.add('hidden')
    })
  })
</script>
